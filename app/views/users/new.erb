<div class="logo-spacer"></div>
<div id="signup_page">
  <% @artist.password = @artist.password_confirmation = nil 
     @fan.password = @fan.password_confirmation = nil 
  %>
  <div><h2>Create Your MAU Account</h2>
<%
   sel_opts = [{ :key => :none,
                 :display => '&lt;select your account type&gt;',
                 :selected => ''
               },
               { :key => :Artist,
                 :display => "Mission Artist",
                 :selected => (@type == 'Artist') ? "selected=selected" : "" },
               { :key => :MAUFan,
                 :display => "Mission Art Fan",
                 :selected => (@type == 'MAUFan') ? "selected=selected" : "" } ]
   opts = sel_opts.map{ |opt| "<option value='#{opt[:key]}' #{opt[:selected]}>#{opt[:display]}</option>" }.join('')
%>
<div id="account_selector">I am a <%= select_tag 'account_type_chooser', opts %></div>

  </div>
<% 
astyle = 'display:none;'
fstyle = 'display:none;'
case @type
when 'Artist'
  astyle = "display:block;"
when 'MAUFan'
  fstyle = "display:block;"
end
%>  
  <div id="artist_signup_form" style="<%= astyle %>">
  <%= render :partial => 'signup_form', :locals => { :type => 'Artist', :user => @artist } %>
  </div>
  <div id="fan_signup_form" style="<%= fstyle %>">
  <%= render :partial => 'signup_form', :locals => { :type => 'MAUFan', :user => @fan } %>
  </div>
</div>
