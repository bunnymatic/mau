<% unless page_owner.what_i_favorite.empty? %>
<% favorites_per_row = 10 # coordinate this with javascript favorites_per_row -%>
<div id="my_favorites" class="favorites-block" >
  <div><label>
      <% if current_user && current_user.id == page_owner.id %>
      my 
      <% else %>
      <%= page_owner.get_name(true) %>'s
      <% end %>
      favorites
      <% if page_owner.what_i_favorite.count < favorites_per_row -%>
      <span class="show-toggle fewer">(<%= page_owner.what_i_favorite.count %>)</span>
      <% else -%>
      <span class="show-toggle fewer"><a href="#">(<%= page_owner.what_i_favorite.count %>)</a></span>
      <% end -%>
  </label>
  </div>
  <ul class="favorite-thumbs">
  <% favs = page_owner.what_i_favorite
     favs.each_with_index do |f, idx| 
     clz = (f == favs.last) ?"last" :""
     if idx >= favorites_per_row
        style = "display:none;"
     end
     %>
  <%= render :partial => "/users/favorite_thumb", :locals => { :favorite => f, :xclass => clz, :xstyle => style } %>
  <% end %>
  </ul>
</div>
<% end %>
