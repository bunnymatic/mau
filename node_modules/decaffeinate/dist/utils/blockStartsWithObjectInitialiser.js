"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var decaffeinate_parser_1 = require("decaffeinate-parser");
var BlockPatcher_1 = require("../stages/main/patchers/BlockPatcher");
/**
 * Determine if this is a block has an object initializer as its leftmost node.
 * That means that in its JS form, the expression will start with a `{`
 * character and need to be wrapped in parens when used in a JS arrow function.
 */
function blockStartsWithObjectInitialiser(patcher) {
    if (!(patcher instanceof BlockPatcher_1.default) || patcher.statements.length !== 1) {
        return false;
    }
    var statement = patcher.statements[0];
    var foundInitialObject = false;
    decaffeinate_parser_1.traverse(statement.node, function (child) {
        if (foundInitialObject) {
            // Already found.
            return false;
        }
        if (child.type === 'ObjectInitialiser' && child.start === statement.contentStart) {
            foundInitialObject = true;
            return false;
        }
        return true;
    });
    return foundInitialObject;
}
exports.default = blockStartsWithObjectInitialiser;
